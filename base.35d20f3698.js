(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"01Xx":function(t,e,r){"use strict";r.d(e,"a",(function(){return T})),r.d(e,"b",(function(){return E})),r.d(e,"c",(function(){return k}));var n=r("Lwhl"),o=r("SYXb"),i=r("iBzF"),s=r("S5lf"),a=r("GPo/"),c=r("LSwV"),u=r("gD/U"),f=r("rDzO"),l=r("AdD+");function h(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function p(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){h(i,n,o,s,a,"next",t)}function a(t){h(i,n,o,s,a,"throw",t)}s(void 0)}))}}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){d(t,e,r[e])}))}return t}function m(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})),t}function v(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var b,w=c.isWap?f.f:l.a,g=[],_=!1,S=function(){_=!1,g=[]},O=(b=p((function(){var t,e;return v(this,(function(r){switch(r.label){case 0:if(a.E.some((function(t){return void 0===Object(s.c)(t)||null===Object(s.c)(t)})))return console.warn("cannot refresh token due to missing cookie"),[2,{isRefresh:!1}];t=Object(s.c)(a.J),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch("patron/refreshToken",{method:"PUT",headers:Object(u.c)(),body:{refreshToken:t,keepSignedIn:!!s.a.get(s.a.KEY.KEEP_SIGNED_IN)}}).then((function(t){return t.json()}))];case 2:if((e=r.sent()).bizCode===n.a.SUCCESS)return[2,{isRefresh:!0}];throw e;case 3:return r.sent(),[2,{isRefresh:!1}];case 4:return[2]}}))})),function(){return b.apply(this,arguments)}),T=function(){window.loginStatus||(Object(s.c)(a.J)&&Object(s.c)(a.q)?window.loginStatus=!0:w(window.location.pathname))},E=function(){var t=p((function(t,e){var r,n,i=arguments;return v(this,(function(s){switch(s.label){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},_?[3,2]:(_=!0,[4,O()]);case 1:if(n=s.sent().isRefresh)return g.forEach((function(t){return t(n)})),S(),[2,window.fetch(t,e,m(y({},r),{refreshedToken:!0}))];if(Object(o.e)(),g.forEach((function(t){return t(n)})),!w(window.location.pathname))return S(),[2,Promise.resolve(n)];s.label=2;case 2:return[2,new Promise((function(n){g.push((function(o){n(!!o&&window.fetch(t,e,m(y({},r),{refreshedToken:!0})))}))}))]}}))}));return function(e,r){return t.apply(this,arguments)}}(),k=function(){i.isINT||(Object(s.c)(a.h)?Object(s.c)(a.h,Object(s.c)(a.h),{path:"/",expires:365}):(Object(o.e)(),console.error("user's phone is missing")))}},A8e2:function(t,e,r){"use strict";r("30Lb").default.directive("pageLoading",{bind:function(t,e,r){var n=document.querySelector("#pageLoading");n||((n=document.createElement("div")).innerHTML='\n\t\t\t<div class="m-page-loading-wrap" id="pageLoading">\n\t\t\t\t<div class="m-page-loading">\n\t\t\t\t\t<div class="loading">Loading...</div>\n\t\t\t\t\t<div class="loading-page-fail">\n\t\t\t\t\t\t<p class="fail-text">Failed to load game data.Please refresh the page.</p>\n\t\t\t\t\t\t<div class="fail-btn">Rload</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>',document.body.appendChild(n),n=document.querySelector("#pageLoading")),n.querySelector(".fail-btn").addEventListener("click",(function(){window.location.reload()})),-1===e.value?n.addClass("m-page-loading-fail"):n.removeClass("m-page-loading-fail"),n.style.display=0===e.value||!1===e.value?"none":"",t.loading=n},componentUpdated:function(t,e,r){t.loading&&(-1===e.value?t.loading.addClass("m-page-loading-fail"):t.loading.removeClass("m-page-loading-fail"),t.loading.style.display=0===e.value||!1===e.value?"none":"")},unbind:function(t,e,r){t.loading&&(t.loading.style.display="none",delete t.loading)}})},DSZy:function(t,e,r){"use strict";var n;r.d(e,"a",(function(){return n})),function(t){t[t.ERROR=1]="ERROR",t[t.NO_INTERNET=3]="NO_INTERNET",t[t.REQUEST_DECRYPT_FAILED=4]="REQUEST_DECRYPT_FAILED",t[t.ABNORMAL_RESPONSE_STATUS=5]="ABNORMAL_RESPONSE_STATUS",t[t.WAF_BLOCKED=999]="WAF_BLOCKED"}(n||(n={}))},Gb9c:function(t,e,r){"use strict";r.r(e);r("QwcY"),r("kKWN"),r("lLvx"),r("Gd7J"),r("enpP"),r("I/Es"),r("CccD"),r("YsNC"),r("plC8"),r("A8e2")},"I/Es":function(t,e,r){"use strict";r.d(e,"a",(function(){return xt}));r("Mvb/");var n,o,i,s,a,c,u,f,l,h,p,d=r("SYXb"),y=r("01Xx"),m=r("akL/"),v=r("KO9B"),b=r("nGK7"),w=r("NeLX"),g=r("BXPJ"),_=r("LSwV"),S=r("Ei71"),O=r("rDzO"),T=r("AdD+"),E=r("s75S"),k=r("zvBl"),P="aws-WAF-integration-script",R=r("2zP9"),A=r("Lwhl"),x=r("S5lf"),B=B||(n=Math,i=(o={}).lib={},s=i.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var r=new t;return e&&r.mixIn(e),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,o=t.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var s=r[i>>>2]>>>24-i%4*8&255;e[n+i>>>2]|=s<<24-(n+i)%4*8}else if(r.length>65535)for(i=0;i<o;i+=4)e[n+i>>>2]=r[i>>>2];else e.push.apply(e,r);return this.sigBytes+=o,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=n.ceil(e/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(4294967296*n.random()|0);return new a.init(e,t)}}),c=o.enc={},u=c.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(r,e/2)}},f=c.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],o=0;o<r;o++){var i=e[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(r,e)}},l=c.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,r=e.words,o=e.sigBytes,i=this.blockSize,s=o/(4*i),c=(s=t?n.ceil(s):n.max((0|s)-this._minBufferSize,0))*i,u=n.min(4*c,o);if(c){for(var f=0;f<c;f+=i)this._doProcessBlock(r,f);var l=r.splice(0,c);e.sigBytes-=u}return new a.init(l,u)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),i.Hasher=h.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new p.HMAC.init(t,r).finalize(e)}}}),p=o.algo={},o);!function(){var t=B,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var o=[],i=0;i<r;i+=3)for(var s=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;a<4&&i+.75*a<r;a++)o.push(n.charAt(s>>>6*(3-a)&63));var c=n.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(t){var r=t.length,n=this._map,o=n.charAt(64);if(o){var i=t.indexOf(o);-1!=i&&(r=i)}for(var s=[],a=0,c=0;c<r;c++)if(c%4){var u=n.indexOf(t.charAt(c-1))<<c%4*2,f=n.indexOf(t.charAt(c))>>>6-c%4*2;s[a>>>2]|=(u|f)<<24-a%4*8,a++}return e.create(s,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),B.lib.Cipher||function(){var t=B,e=t.lib,r=e.Base,n=e.WordArray,o=e.BufferedBlockAlgorithm,i=t.enc,s=(i.Utf8,i.Base64),a=t.algo.EvpKDF,c=e.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?v:y}return function(e){return{encrypt:function(r,n,o){return t(n).encrypt(e,r,n,o)},decrypt:function(r,n,o){return t(n).decrypt(e,r,n,o)}}}}()}),u=(e.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),t.mode={}),f=e.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),l=u.CBC=function(){var t=f.extend();function e(t,e,r){var n=this._iv;if(n){var o=n;this._iv=undefined}else o=this._prevBlock;for(var i=0;i<r;i++)t[e+i]^=o[i]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize;e.call(this,t,r,o),n.encryptBlock(t,r),this._prevBlock=t.slice(r,r+o)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,o=n.blockSize,i=t.slice(r,r+o);n.decryptBlock(t,r),e.call(this,t,r,o),this._prevBlock=i}}),t}(),h=(t.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,o=r-t.sigBytes%r,i=o<<24|o<<16|o<<8|o,s=[],a=0;a<o;a+=4)s.push(i);var c=n.create(s,o);t.concat(c)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},p=(e.BlockCipher=c.extend({cfg:c.cfg.extend({mode:l,padding:h}),reset:function(){c.reset.call(this);var t=this.cfg,e=t.iv,r=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{n=r.createDecryptor;this._minBufferSize=1}this._mode=n.call(r,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else{e=this._process(!0);t.unpad(e)}return e},blockSize:4}),e.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),d=(t.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;if(r)var o=n.create([1398893684,1701076831]).concat(r).concat(e);else o=e;return o.toString(s)},parse:function(t){var e=s.parse(t),r=e.words;if(1398893684==r[0]&&1701076831==r[1]){var o=n.create(r.slice(2,4));r.splice(0,4),e.sigBytes-=16}return p.create({ciphertext:e,salt:o})}},y=e.SerializableCipher=r.extend({cfg:r.extend({format:d}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var o=t.createEncryptor(r,n),i=o.finalize(e),s=o.cfg;return p.create({ciphertext:i,key:r,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),m=(t.kdf={}).OpenSSL={execute:function(t,e,r,o){o||(o=n.random(8));var i=a.create({keySize:e+r}).compute(t,o),s=n.create(i.words.slice(e),4*r);return i.sigBytes=4*e,p.create({key:i,iv:s,salt:o})}},v=e.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:m}),encrypt:function(t,e,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=o.iv;var i=y.encrypt.call(this,t,e,o.key,n);return i.mixIn(o),i},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var o=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=o.iv,y.decrypt.call(this,t,e,o.key,n)}})}(),function(){var t=B,e=t.lib.BlockCipher,r=t.algo,n=[],o=[],i=[],s=[],a=[],c=[],u=[],f=[],l=[],h=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,p=0;for(e=0;e<256;e++){var d=p^p<<1^p<<2^p<<3^p<<4;d=d>>>8^255&d^99,n[r]=d,o[d]=r;var y=t[r],m=t[y],v=t[m],b=257*t[d]^16843008*d;i[r]=b<<24|b>>>8,s[r]=b<<16|b>>>16,a[r]=b<<8|b>>>24,c[r]=b;b=16843009*v^65537*m^257*y^16843008*r;u[d]=b<<24|b>>>8,f[d]=b<<16|b>>>16,l[d]=b<<8|b>>>24,h[d]=b,r?(r=y^t[t[t[v^y]]],p^=t[t[p]]):r=p=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],d=r.AES=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes/4,o=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],s=0;s<o;s++)if(s<r)i[s]=e[s];else{var a=i[s-1];s%r?r>6&&s%r==4&&(a=n[a>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[255&a]):(a=n[(a=a<<8|a>>>24)>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[255&a],a^=p[s/r|0]<<24),i[s]=i[s-r]^a}for(var c=this._invKeySchedule=[],d=0;d<o;d++){s=o-d;if(d%4)a=i[s];else a=i[s-4];c[d]=d<4||s<=4?a:u[n[a>>>24]]^f[n[a>>>16&255]]^l[n[a>>>8&255]]^h[n[255&a]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,i,s,a,c,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,u,f,l,h,o);r=t[e+1];t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,o,i,s,a){for(var c=this._nRounds,u=t[e]^r[0],f=t[e+1]^r[1],l=t[e+2]^r[2],h=t[e+3]^r[3],p=4,d=1;d<c;d++){var y=n[u>>>24]^o[f>>>16&255]^i[l>>>8&255]^s[255&h]^r[p++],m=n[f>>>24]^o[l>>>16&255]^i[h>>>8&255]^s[255&u]^r[p++],v=n[l>>>24]^o[h>>>16&255]^i[u>>>8&255]^s[255&f]^r[p++],b=n[h>>>24]^o[u>>>16&255]^i[f>>>8&255]^s[255&l]^r[p++];u=y,f=m,l=v,h=b}y=(a[u>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[p++],m=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^r[p++],v=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&f])^r[p++],b=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^r[p++];t[e]=y,t[e+1]=m,t[e+2]=v,t[e+3]=b},keySize:8});t.AES=e._createHelper(d)}();var D,j=B;function C(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function I(){return new C(null)}"Microsoft Internet Explorer"==navigator.appName?(C.prototype.am=function(t,e,r,n,o,i){for(var s=32767&e,a=e>>15;--i>=0;){var c=32767&this[t],u=this[t++]>>15,f=a*c+u*s;o=((c=s*c+((32767&f)<<15)+r[n]+(1073741823&o))>>>30)+(f>>>15)+a*u+(o>>>30),r[n++]=1073741823&c}return o},D=30):"Netscape"!=navigator.appName?(C.prototype.am=function(t,e,r,n,o,i){for(;--i>=0;){var s=e*this[t++]+r[n]+o;o=Math.floor(s/67108864),r[n++]=67108863&s}return o},D=26):(C.prototype.am=function(t,e,r,n,o,i){for(var s=16383&e,a=e>>14;--i>=0;){var c=16383&this[t],u=this[t++]>>14,f=a*c+u*s;o=((c=s*c+((16383&f)<<14)+r[n]+o)>>28)+(f>>14)+a*u,r[n++]=268435455&c}return o},D=28),C.prototype.DB=D,C.prototype.DM=(1<<D)-1,C.prototype.DV=1<<D;C.prototype.FV=Math.pow(2,52),C.prototype.F1=52-D,C.prototype.F2=2*D-52;var U,F,N=new Array;for(U="0".charCodeAt(0),F=0;F<=9;++F)N[U++]=F;for(U="a".charCodeAt(0),F=10;F<36;++F)N[U++]=F;for(U="A".charCodeAt(0),F=10;F<36;++F)N[U++]=F;function M(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function L(t,e){var r=N[t.charCodeAt(e)];return null==r?-1:r}function z(t){var e=I();return e.fromInt(t),e}function q(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function K(t){this.m=t}function H(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function W(){this.i=0,this.j=0,this.S=new Array}K.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},K.prototype.revert=function(t){return t},K.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},K.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},K.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},H.prototype.convert=function(t){var e=I();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(C.ZERO)>0&&this.m.subTo(e,e),e},H.prototype.revert=function(t){var e=I();return t.copyTo(e),this.reduce(e),e},H.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},H.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},H.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},C.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},C.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+DV:this.t=0},C.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,o=!1,i=0;--n>=0;){var s=8==r?255&t[n]:L(t,n);s<0?"-"==t.charAt(n)&&(o=!0):(o=!1,0==i?this[this.t++]=s:i+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-i)-1)<<i,this[this.t++]=s>>this.DB-i):this[this.t-1]|=s<<i,(i+=r)>=this.DB&&(i-=this.DB))}8==r&&128&t[0]&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),o&&C.ZERO.subTo(this,this)},C.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},C.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},C.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},C.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,o=this.DB-n,i=(1<<o)-1,s=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+s+1]=this[r]>>o|a,a=(this[r]&i)<<n;for(r=s-1;r>=0;--r)e[r]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},C.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,o=this.DB-n,i=(1<<n)-1;e[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)e[s-r-1]|=(this[s]&i)<<o,e[s-r]=this[s]>>n;n>0&&(e[this.t-r-1]|=(this.s&i)<<o),e.t=this.t-r,e.clamp()}},C.prototype.subTo=function(t,e){for(var r=0,n=0,o=Math.min(t.t,this.t);r<o;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},C.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),o=r.t;for(e.t=o+n.t;--o>=0;)e[o]=0;for(o=0;o<n.t;++o)e[o+r.t]=r.am(0,n[o],e,o,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&C.ZERO.subTo(e,e)},C.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},C.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var o=this.abs();if(o.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=I());var i=I(),s=this.s,a=t.s,c=this.DB-q(n[n.t-1]);c>0?(n.lShiftTo(c,i),o.lShiftTo(c,r)):(n.copyTo(i),o.copyTo(r));var u=i.t,f=i[u-1];if(0!=f){var l=f*(1<<this.F1)+(u>1?i[u-2]>>this.F2:0),h=this.FV/l,p=(1<<this.F1)/l,d=1<<this.F2,y=r.t,m=y-u,v=null==e?I():e;for(i.dlShiftTo(m,v),r.compareTo(v)>=0&&(r[r.t++]=1,r.subTo(v,r)),C.ONE.dlShiftTo(u,v),v.subTo(i,i);i.t<u;)i[i.t++]=0;for(;--m>=0;){var b=r[--y]==f?this.DM:Math.floor(r[y]*h+(r[y-1]+d)*p);if((r[y]+=i.am(0,b,r,m,0,u))<b)for(i.dlShiftTo(m,v),r.subTo(v,r);r[y]<--b;)r.subTo(v,r)}null!=e&&(r.drShiftTo(u,e),s!=a&&C.ZERO.subTo(e,e)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&C.ZERO.subTo(r,r)}}},C.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(!(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},C.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},C.prototype.exp=function(t,e){if(t>4294967295||t<1)return C.ONE;var r=I(),n=I(),o=e.convert(this),i=q(t)-1;for(o.copyTo(r);--i>=0;)if(e.sqrTo(r,n),(t&1<<i)>0)e.mulTo(n,o,r);else{var s=r;r=n,n=s}return e.revert(r)},C.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,o=!1,i="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(o=!0,i=M(r));s>=0;)a<e?(r=(this[s]&(1<<a)-1)<<e-a,r|=this[--s]>>(a+=this.DB-e)):(r=this[s]>>(a-=e)&n,a<=0&&(a+=this.DB,--s)),r>0&&(o=!0),o&&(i+=M(r));return o?i:"0"},C.prototype.negate=function(){var t=I();return C.ZERO.subTo(this,t),t},C.prototype.abs=function(){return this.s<0?this.negate():this},C.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},C.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+q(this[this.t-1]^this.s&this.DM)},C.prototype.mod=function(t){var e=I();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(C.ZERO)>0&&t.subTo(e,e),e},C.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new K(e):new H(e),this.exp(t,r)},C.ZERO=z(0),C.ONE=z(1),W.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},W.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var Y,G,V;function J(){var t;t=(new Date).getTime(),G[V++]^=255&t,G[V++]^=t>>8&255,G[V++]^=t>>16&255,G[V++]^=t>>24&255,V>=256&&(V-=256)}if(null==G){var X;if(G=new Array,V=0,"Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var $=window.crypto.random(32);for(X=0;X<$.length;++X)G[V++]=255&$.charCodeAt(X)}for(;V<256;)X=Math.floor(65536*Math.random()),G[V++]=X>>>8,G[V++]=255&X;V=0,J()}function Z(){if(null==Y){for(J(),(Y=new W).init(G),V=0;V<G.length;++V)G[V]=0;V=0}return Y.next()}function Q(){}function tt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}Q.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=Z()},tt.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},tt.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=new C(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")},tt.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var r=new Array,n=t.length-1;n>=0&&e>0;){var o=t.charCodeAt(n--);o<128?r[--e]=o:o>127&&o<2048?(r[--e]=63&o|128,r[--e]=o>>6|192):(r[--e]=63&o|128,r[--e]=o>>6&63|128,r[--e]=o>>12|224)}r[--e]=0;for(var i=new Q,s=new Array;e>2;){for(s[0]=0;0==s[0];)i.nextBytes(s);r[--e]=s[0]}return r[--e]=2,r[--e]=0,new C(r)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var r=this.doPublic(e);if(null==r)return null;var n=r.toString(16);return 1&n.length?"0"+n:n};var et=new tt;function rt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}et.setPublic("c207d6f2db3fa03c7545b7e73d97550f30ef5c3019c4ba5f303fe7b1d2059c22eebde8a8cbd87310e91f84f7ecf697d365dfdb7ad5522b6fb185ea33281cf456ed845320a2e59cbaf507b1741554a478f7c21e06996018a20f00b0baffc65aeeb3b36193f6992b0f240ce84bce3bc07a4187d5ba5c5543884a6b624aab0507cf","10001");var nt,ot=window.__baseUrl__;window.CryptoJS=j;var it,st,at,ct=(rt(nt={},"/api".concat(ot,"patron/account"),1),rt(nt,"/api".concat(ot,"patron/accessToken"),1),rt(nt,"/api".concat(ot,"patron/account/create"),1),rt(nt,"/api".concat(ot,"pocket/v1/customerTrades/customerTrade/resolveTransfer"),2),rt(nt,"/api".concat(ot,"pocket/v1/customerTrades/customerTrade/submitTransfer"),2),rt(nt,"/api".concat(ot,"orders/order"),2),rt(nt,"/api".concat(ot,"pocket/v1/bankTrades/bankTrade/deposit"),2),rt(nt,"/api".concat(ot,"pocket/v1/bankTrades/bankTrade/withdraw"),2),rt(nt,"/api".concat(ot,"promotion/v1/gifts/redeem"),2),rt(nt,"/api".concat(ot,"realSportsGame/cashOut"),2),rt(nt,"/api".concat(ot,"realSportsGame/cashOut/data"),2),rt(nt,"/api".concat(ot,"realSportsGame/autoCashOut"),2),rt(nt,"/api".concat(ot,"patron/email/auth/register"),1),rt(nt,"/api".concat(ot,"patron/email/auth/token"),1),rt(nt,"/api".concat(ot,"patron/register/preRegister"),1),rt(nt,"/api".concat(ot,"patron/phone/reset-password/otp/v2/session"),1),rt(nt,"/api".concat(ot,"patron/register/otp/v2/session"),1),rt(nt,"/api".concat(ot,"orders/order/bet/edit"),2),rt(nt,"/api".concat(ot,"patron/phone/reset-password"),1),rt(nt,"/api".concat(ot,"patron/account/phone/migrate/check-password"),1),rt(nt,"/api".concat(ot,"pocket/v1/bankTrades/bankTrade/withdraw/preCheck"),2),rt(nt,"/api".concat(ot,"patron/telegram/bind/botInfo"),1),nt),ut=(st=-1,function(){return-1===st?it=fetch("/patron/cipher",{method:"POST"}).then((function(t){return t.json()})).then((function(t){var e=t.bizCode,r=t.data;if(1e4===e){var n=j.enc.Base64.parse(r.password);return st={ursId:r.ursId,key:n}}return st=-1,Promise.reject("fetch res error")}),(function(){return st=-1,Promise.reject("fetch res error")})):st?Promise.resolve(st):it}),ft=(at=function(){x.a.remove(x.a.KEY.CIPHER_AES_KEY);var t,e=j.lib.WordArray.random(16),r=(t=et.encrypt("password=".concat(encodeURIComponent(e.toString(j.enc.Base64)))),R.a.btoa(String.fromCharCode.apply(null,t.replace(/\r|\n/g,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" "))));return fetch("/base/cipher",{method:"POST",headers:new Headers({"Content-type":"text/plain"}),body:r},{lockKey:"/base/cipher"}).then((function(t){return t.json()})).then((function(t){var r=t.bizCode,n=t.data;if(1e4===r){var o={transId:n.transId,key:e};if(window.sessionStorage){var i=JSON.stringify({transId:n.transId,key:encodeURIComponent(e.toString(j.enc.Base64)),date:+new Date+36e5});try{var s=JSON.parse(x.a.get(x.a.KEY.CIPHER_AES_KEY)||"{}");if((null==s?void 0:s.transId)===n.transId)return s;x.a.set(x.a.KEY.CIPHER_AES_KEY,i)}catch(t){console.error(t),x.a.set(x.a.KEY.CIPHER_AES_KEY,i)}}return o}return Promise.reject("fetch res error")}),(function(){return Promise.reject("fetch res error")}))},function(){var t=-1;try{if(t=x.a.get(x.a.KEY.CIPHER_AES_KEY))if((t=JSON.parse(t)).key&&t.transId&&t.date){var e=+new Date;t.date>e?t.key=j.enc.Base64.parse(decodeURIComponent(t.key)):t=-1}else t=-1;else t=-1}catch(e){t=-1}return t&&-1!==t?Promise.resolve(t):at()});function lt(t,e,r,n){if(!e.body)return Promise.resolve({url:t,opt:e});var o,i=j.lib.WordArray.random(16);for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.headers.append(o,n[o]);var s=j.AES.encrypt(e.body,r,{iv:i,mode:j.mode.CBC,padding:j.pad.Pkcs7});return e.body=i.clone().concat(s.ciphertext).toString(j.enc.Base64),e.headers.get("Content-Type").indexOf("application/x-www-form-urlencoded")>-1&&e.headers.set("Content-Type","text/plain"),{opt:e,url:t}}function ht(t,e){try{var r=R.a.atob(e),n=R.a.btoa(r.slice(16)),o=j.enc.Base64.parse(R.a.btoa(r.slice(0,16)));return j.AES.decrypt(n,t,{iv:o,mode:j.mode.CBC,padding:j.pad.Pkcs7}).toString(j.enc.Utf8)}catch(t){var i=JSON.parse(e);if(i.bizCode===A.a.UNABLE_TO_DECRYPT_BY_CIPHER)return x.a.remove(x.a.KEY.CIPHER_AES_KEY),new Error(i.message,{cause:"cipher"});console.error(t)}return""}var pt=r("DSZy"),dt=r("viK2");function yt(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vt(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function bt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),n.forEach((function(e){mt(t,e,r[e])}))}return t}function wt(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})),t}function gt(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var _t=_.isWap?O.f:T.a,St=Object(S.a)((function(){w.a.$emit(v.a.UPDATE_LOGIN_STATUS)}),5e3,{leading:!0,trailing:!1}),Ot=window.fetch,Tt={},Et={},kt=window.__baseUrl__,Pt="/api".concat(kt),Rt=/^https?:\/\//,At=/^\//;function xt(t){Et=Object.assign({},Et,t)}function Bt(t,e){return function(t,e){if(!e||!t)return Promise.resolve(e);t=t.replace("".concat(window.location.protocol,"//").concat(window.location.host),"");var r=ct[t];return r?e.text().then((function(t){return 1===r?ut().then((function(e){return ht(e.key,t)})):2===r?ft().then((function(e){return ht(e.key,t)})):(console.warn("未找到合适的加密方案"),Promise.resolve(t))})):Promise.resolve(e)}(e,t).then((function(e){return vt(e,Response)?e:vt(e,Error)||vt(t,Error)?Promise.reject(e):new Response(e||"",{status:t.status,statusText:t.statusText,headers:new Headers(t.headers),url:t.url})}))}function Dt(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.startsWith(window.__FARO_DOMAIN__))return window.originFetch(t,e);(new Date).getTime();var n,o,i,s,a,c,u=bt({},e)||{},f=!1,l=void 0!==(null==r?void 0:r.wafRetried)?r.wafRetried:0,h={};"object"==typeof r?h=r:"string"==typeof r&&(h.lockKey=r),"boolean"==typeof arguments[3]&&(h.refreshedToken=arguments[3]);var p=bt({refreshedToken:!1},h),v=window.loginStatus&&!!cookie("phone");vt(t,Request)?(n=t.url,o=t.credentials,u.headers||(i=new Headers(t.headers||{})),s=t.method,a=t.mode):n=String(t);var w="//".concat(window.__domain__).concat(Pt);if(n.startsWith(w)&&(n=n.slice(w.length)),0===n.indexOf("#")&&(n=n.slice(1),f=!0),/^(https:)?\/\//.test(n)&&!new RegExp("^(https:)?//".concat(window.__domain__)).test(n))return Ot.apply(this,arguments);o=u.credentials||o||"same-origin",!u.headers&&i||(i=new Headers(u.headers||{})),s=u.method||s||"GET",a=u.mode||a||"same-origin","GET"===s&&(u.body?u.without_t||(u.body._t=Date.now()||+new Date):u.body=bt({},u.without_t?{}:{_t:Date.now()||+new Date})),c=u.body;var S=Object(m.a)();S&&i.append("Accept-language",S),i.get("Content-Type")||i.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),"multipart/form-data"===i.get("Content-Type")&&i.delete("Content-Type"),i.get("OperId")||i.append("OperId",window.operId);var O=Object(g.d)();O&&i.append("Sporty-Referer",O);var T=Object(g.c)();T&&i.append("User-Metadata",T);var R=Object.keys(Et),A=!0,x=!1,B=void 0;try{for(var D,j=R[Symbol.iterator]();!(A=(D=j.next()).done);A=!0){var C=D.value;"platform"===C&&i.get("platform")||i.append(C,Et[C])}}catch(t){x=!0,B=t}finally{try{A||null==j.return||j.return()}finally{if(x)throw B}}Tt&&!_.isEmptyObject(Tt)&&(c?_.isPlainObject(c)?c=Object.assign({},c,Tt):"string"==typeof c?c="".concat(c,"&").concat(_.params(Tt)):n=n.addPara(Tt):c=Object.assign({},Tt)),c&&(_.isPlainObject(c)&&(c=_.params(c)),"HEAD"!==s&&"GET"!==s||("string"==typeof c&&(n=window.URL.addPara(n,c)),c=null)),n=n.replace(Rt,"//"),At.test(n)&&(n=n.slice(1)),Pt&&(n=f?"/".concat(n):"".concat(Pt).concat(n));var I,U,F=function(t,e){t=t.replace("".concat(window.location.protocol,"//").concat(window.location.host),"");var r=ct[t];return r?1===r?ut().then((function(r){var n=r.ursId,o=r.key;return lt(t,e,o,{ursId:n})})):2===r?ft().then((function(r){var n=r.key,o=r.transId;return lt(t,e,n,{transId:o})})):(console.warn("未找到合适的加密方案"),Promise.resolve({url:t,opt:e})):Promise.resolve({url:t,opt:e})}(n,bt({headers:i,method:s,mode:a,credentials:o,body:c},u.signal?{signal:u.signal}:{})).then((function(t){var r=t.url,n=t.opt,o=e&&e.port,i=window.location,s=i.hostname,a=i.protocol,c=o?"".concat(a,"//").concat(s,":").concat(o).concat(r):r;return dt.c.send(c,n,p)})).then((function(t){return v&&window.loginStatus&&!cookie("phone")&&b.a.push({event:b.a.eventName.USER_PHONE_NOT_EXISTED,requestUrl:window.URL.removePara(n,!0),fullRequestUrl:n}),500===t.status?t:Bt(t,n)}),(function(t){return Bt(t,n)}));return F.then((I=function(r){var n,o;return gt(this,(function(i){switch(i.label){case 0:return r.ok||r.status>=200&&r.status<300||401===r.status?[3,2]:[4,r.json()];case 1:return n=i.sent(),[2,Promise.reject({err:pt.a.ABNORMAL_RESPONSE_STATUS,message:k.c.$t("something_went_wrong_please_try_again_later",{page:"common_feedback"},"Sorry, something went wrong. Please try again later."),status:r.status,body:n})];case 2:return 401!==r.status?[3,4]:p.refreshedToken?(Object(d.e)(),_t(window.location.pathname),[2,new Response(JSON.stringify({login:!1}))]):[4,Object(y.b)(t,e,p)];case 3:return(o=i.sent())?[2,o]:[2,new Response(JSON.stringify({login:!1}))];case 4:return p.refreshedToken&&(window.loginStatus||(window.loginStatus=!0),Object(y.c)(),St()),Object(E.c)(r.url,r.status)?[2,new Response(r.status)]:[2,r]}}))},U=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=I.apply(t,e);function i(t){yt(o,r,n,i,s,"next",t)}function s(t){yt(o,r,n,i,s,"throw",t)}i(void 0)}))},function(t){return U.apply(this,arguments)}),(function(t){return"AbortError"===t.name?Promise.reject(t):"cipher"===t.cause?Promise.reject({err:pt.a.REQUEST_DECRYPT_FAILED,statusText:"cipher not valid",message:k.c.$t("something_went_wrong_please_try_again_later",{page:"common_feedback"},"Sorry, something went wrong. Please try again later.")}):Promise.reject({err:pt.a.ERROR,statusText:"network error",message:k.c.$t("no_internet_connection_tip",{page:"common_feedback"},"No internet connection, try again.")})})).then((function(r){return r.clone().text().then((function(o){return null==o||""===o||"string"==typeof o&&(o.indexOf("<!DOCTYPE")>=0||o.indexOf("<html>")>=0)?"challenge"===r.headers.get(dt.b.X_AMZN_WAF_ACTION)&&"CloudFront"===r.headers.get(dt.b.SERVER)?l>=2?Promise.reject({err:pt.a.WAF_BLOCKED,statusText:"waf blocked, retry times exceed",message:k.c.$t("something_went_wrong_please_try_again_later",{page:"common_feedback"},"Sorry, something went wrong. Please try again later.")}):(l++,Object(dt.d)({requestUrl:n},"Request meet WAF error"),function(){if(document.getElementById(P))return window.AwsWafIntegration.getToken();if(!window.__AWS_WAF_JS_SCRIPT__)return new Promise((function(t,e){e(new Error("AWS WAF script not found in window"))}));var t=document.createElement("script");return t.id=P,t.src=window.__AWS_WAF_JS_SCRIPT__,t.async=!0,document.body.appendChild(t),new Promise((function(e,r){t.onload=function(){if(window.AwsWafIntegration)return window.AwsWafIntegration.getToken().then((function(t){e(t)})).catch((function(t){r(t)}));r()},t.onerror=function(){r()}}))}().then((function(){return Object(dt.d)({requestUrl:n},"Request pass WAF error, refetch"),Dt(t,e,wt(bt({},p),{wafRetried:l}))})).catch((function(){return Promise.reject({err:pt.a.WAF_BLOCKED,statusText:"waf blocked",message:k.c.$t("something_went_wrong_please_try_again_later",{page:"common_feedback"},"Sorry, something went wrong. Please try again later.")})}))):Promise.reject({err:pt.a.ERROR,statusText:"response is null",message:k.c.$t("something_went_wrong_please_try_again_later",{page:"common_feedback"},"Sorry, something went wrong. Please try again later.")}):r}))}),(function(t){return t.stack&&console.error(t.stack),t.stack&&(t.message=k.c.$t("something_went_wrong_please_try_again_later",{page:"common_feedback"},"Sorry, something went wrong. Please try again later.")),t.err||t.message?(t.err&&!t.message&&(t.message=t.err),Promise.reject(t)):Promise.reject({err:pt.a.ERROR,statusText:"network error",message:k.c.$t("no_internet_connection_tip",{page:"common_feedback"},"No internet connection, try again.")})}))}window.fetch=Dt,window.fetch2=Dt,window.originFetch=Ot},"Mvb/":function(t,e){!function(t){"use strict";if(!t.fetch){var e="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,n="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,i="ArrayBuffer"in t;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(t){return t&&DataView.prototype.isPrototypeOf(t)},c=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};d.prototype.append=function(t,e){t=l(t),e=h(e);var r=this.map[t];this.map[t]=r?r+","+e:e},d.prototype.delete=function(t){delete this.map[l(t)]},d.prototype.get=function(t){return t=l(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(l(t))},d.prototype.set=function(t,e){this.map[l(t)]=h(e)},d.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),p(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),p(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),p(t)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},w.call(g.prototype),w.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var f=[301,302,303,307,308];S.redirect=function(t,e){if(-1===f.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})},t.Headers=d,t.Request=g,t.Response=S,t.fetch=function(t,e){return new Promise((function(r,o){var i=new g(t,e),s=new XMLHttpRequest;s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();e.append(n,o)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new S(o,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&n&&(s.responseType="blob"),i.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),s.send(void 0===i._bodyInit?null:i._bodyInit)}))},t.fetch.polyfill=!0}function l(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function h(t){return"string"!=typeof t&&(t=String(t)),t}function p(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function y(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function m(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function v(t){var e=new FileReader,r=m(e);return e.readAsArrayBuffer(t),r}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(n&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(o&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(i&&n&&a(t))this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(t)&&!c(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var t=y(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var t,e,r,n=y(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=m(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(t,e){var r,n,o=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),u.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}})),e}function S(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},s75S:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"b",(function(){return s}));var n=200,o=function(t,e){if(e!==n)return!1;var r=window.URL.getInfo(t).pathname;return i.has(r)},i=new Set(["/chat/comment/add","/chat/comment/like","/chat/comment/remove"]),s=function(t,e){var r;return(null===(r=null==t?void 0:t.body)||void 0===r?void 0:r.causeMsg)?t.body.causeMsg:e||t.message}},viK2:function(t,e,r){"use strict";r.d(e,"e",(function(){return f})),r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return u})),r.d(e,"c",(function(){return p})),r.d(e,"d",(function(){return d}));var n=r("27rU");function o(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void r(t)}a.done?e(c):Promise.resolve(c).then(n,o)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var c,u,f="function"==typeof AbortController;!function(t){t.MEMORY="MEMORY",t.SESSION_STORAGE="SESSION_STORAGE"}(c||(c={})),function(t){t.X_AMZN_WAF_ACTION="x-amzn-waf-action",t.SERVER="server"}(u||(u={}));var l=function t(){var e=this;i(this,t),this.resolve=null,this.reject=null,this.promise=new Promise((function(t,r){e.resolve=t,e.reject=r}))},h=function(){function t(){i(this,t),this.lockReqs={},this.lockTimeStore={}}var e,r,u;return e=t,r=[{key:"send",value:function(t,e,r){var i,s=this,u=r.lockKey,f=r.lockTime,h=r.cacheMode;if(!u)return window.originFetch(t,e);var p=(new Date).getTime(),d=h===c.SESSION_STORAGE;if(d){var y=sessionStorage.getItem("cache_".concat(u));if(y){var m=Object(n.a)(y);this.lockTimeStore[u]={expiredAt:m.expiredAt,cacheRes:new Response(JSON.stringify(m.cacheRes),{status:200,statusText:"OK",headers:{"content-type":"application/json"}})}}}if(this.lockTimeStore[u]&&this.lockTimeStore[u].cacheRes){if(p<this.lockTimeStore[u].expiredAt)return console.log("[API] from cache: lockKey: ".concat(u)),Promise.resolve(this.lockTimeStore[u].cacheRes.clone());delete this.lockTimeStore[u],d&&sessionStorage.removeItem("cache_".concat(u))}if(this.lockReqs[u]){var v=new l;return null===(i=this.lockReqs[u])||void 0===i||i.push(v),v.promise}var b=new Promise((function(r,n){var i,c,l=s;window.originFetch(t,e).then((i=function(t){var e,n,o;return a(this,(function(i){switch(i.label){case 0:return r(t),l.lockTimeStore[u]?(l.lockTimeStore[u].cacheRes=t.clone(),d&&"number"==typeof f?[4,t.clone().json()]:[3,2]):[3,2];case 1:n=i.sent(),o={expiredAt:Date.now()+f,cacheRes:n},sessionStorage.setItem("cache_".concat(u),JSON.stringify(o)),i.label=2;case 2:return null===(e=l.lockReqs[u])||void 0===e||e.forEach((function(e){var r;console.log("[API] from cache: lockKey: ".concat(u)),null===(r=e.resolve)||void 0===r||r.call(e,t.clone())})),[2]}}))},c=function(){var t=this,e=arguments;return new Promise((function(r,n){var s=i.apply(t,e);function a(t){o(s,r,n,a,c,"next",t)}function c(t){o(s,r,n,a,c,"throw",t)}a(void 0)}))},function(t){return c.apply(this,arguments)})).catch((function(t){var e;n(t),null===(e=s.lockReqs[u])||void 0===e||e.forEach((function(e){var r;console.log("[API] from cache: lockKey: ".concat(u)),null===(r=e.reject)||void 0===r||r.call(e,t)}))})).finally((function(){delete s.lockReqs[u]}))}));return this.lockReqs[u]=[],"number"==typeof f&&(this.lockTimeStore[u]={expiredAt:p+f,cacheRes:null}),b}}],r&&s(e.prototype,r),u&&s(e,u),t}(),p=new h,d=function(t,e){var r;(null===(r=null===window||void 0===window?void 0:window.faro)||void 0===r?void 0:r.api)&&window.faro.api.pushLog([e],{context:{requestUrl:t.requestUrl,userAgent:window.navigator.userAgent,ipCountry:window.ipCountry,country:window.country}})}}}]);
//# sourceMappingURL=base.35d20f3698.js.map